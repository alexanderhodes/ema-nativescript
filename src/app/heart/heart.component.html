<ActionBar class="action-bar">
    <Label class="action-bar-title" text="Pictures"></Label>
</ActionBar>

<ScrollView orientation="vertical" class="page page-content" (swipe)="onSwipe($event)">
    <GridLayout rows="76, 30, *" columns="*">
        <UserHeader row="0" col="0"></UserHeader>
        <GridLayout row="1" col="0" rows="30" columns="*, *"
                    style="margin: 2; padding: 2; border-top-width: 1; border-top-color: #02556E">
            <Label row="0" col="0" text="&#xf00a;" class="fa t-24" style="text-align: center;"
                   (tap)="toggleDisplay(true)" [color]="this.displayGrid ? '#02556E' : '#737373'"></Label>
            <Label row="0" col="1" text="&#xf03a;" class="fa t-24" style="text-align: center;"
                   (tap)="toggleDisplay(false)" [color]="!this.displayGrid ? '#02556E' : '#737373'"></Label>
        </GridLayout>
        <GridLayout *ngIf="displayGrid" row="2" col="0" [rows]="gridRows" columns="*, *, *">
            <Image *ngFor="let image of images; index as i" [row]="rowForIndex(i)" [col]="colForIndex(i)"
                   [src]="image.url" stretch="aspectFill" margin="4" (tap)="tappedImage(i)"
                   [nsRouterLink]="['../image', i]"></Image>
        </GridLayout>
        <GridLayout *ngIf="!displayGrid" row="2" col="0" [rows]="listRows">
            <GridLayout [row]="i" rows="auto, *, 30" cols="*" *ngFor="let image of images; index as i" margin="4">
                <Label row="0" col="0" [text]="image.name" class="t-24"></Label>
                <Image row="1" col="0" [src]="image.url" (doubletap)="image.liked = !image.liked"></Image>
                <GridLayout row="2" col="0" columns="30, 30, 30, *, 30">
                    <Label col="0" text="&#xf004;" class="fa t-24" style="text-align: center;"
                           [color]="image.liked? 'red' : '#737373'" (tap)="image.liked = !image.liked"></Label>
                    <Label col="1" text="&#xf075;" class="fa t-24" style="text-align: center;"
                           color="#737373"></Label>
                    <Label col="2" text="&#xf064;" class="fa t-24" style="text-align: center;"
                           color="#737373"></Label>
                    <Label col="4" text="&#xf02e;" class="fa t-24" style="text-align: center;"
                           color="#737373"></Label>
                </GridLayout>
            </GridLayout>
        </GridLayout>
    </GridLayout>
</ScrollView>
